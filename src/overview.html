<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
  <head>
    <title>WebGraph (big)</title>
  </head>

  <body>

    <P>WebGraph is a framework for graph compression aimed at studying web graphs. It provides simple ways to manage
	very large graphs, exploiting modern compression techniques.  
	The big version is a fork of the original WebGraph that can handle more than 2<sup>31</sup> 
	nodes. For more details on WebGraph that are common between the standard and the big
	version, please see <a href="http://webgraph.di.unimi.it/">WebGraph</a>. WebGraph is free
	software distributed under either the  <A
	HREF="https://www.gnu.org/licenses/old-licenses/lgpl-2.1.html">GNU Lesser General Public License 2.1+</A> or the <a href="https://www.apache.org/licenses/LICENSE-2.0">Apache Software License 2.0</a>.

	<h1>Main differences</h1>
	
	<p>If you are used to WebGraph, the main difference is that nodes are
	indexed by long integers. Correspondingly, iterators on nodes are 
	{@link it.unimi.dsi.big.webgraph.LazyLongIterator}s, and all array-based methods
	(such as {@link it.unimi.dsi.big.webgraph.ImmutableGraph#successorBigArray(long)} or 
	{@link it.unimi.dsi.big.webgraph.labelling.ArcLabelledImmutableGraph#labelBigArray(long)})
	return {@linkplain it.unimi.dsi.fastutil.BigArrays big arrays}.
	
	<p>Some classes have not been ported, and will be ported on an &ldquo;as-needed&rdquo; basis.
	
	<h1>Porting code</h1>
	
	<p>If you want to port code written for WebGraph to the big version, the main
	nuisance is the fact that {@link it.unimi.dsi.big.webgraph.ImmutableGraph#successorBigArray(long)}
	returns, as the name says, a {@linkplain it.unimi.dsi.fastutil.BigArrays big array}, which
	cannot be accessed like a standard Java array. Watch out in particular for accesses to the
	<code>length</code> field, which will be syntactically correct even on a big array, but
	<strong>must</strong> be replaced by calls to a suitable method (e.g., 
	{@link it.unimi.dsi.fastutil.BigArrays#length(long[][])}). In general, you
	must get accustomed to big-array methods before porting code.
	
	<p>To simplify many mundane matters, such as unit tests, {@link it.unimi.dsi.big.webgraph.ImmutableGraph}
	provides two static wrapping methods ({@link it.unimi.dsi.big.webgraph.ImmutableGraph#wrap(it.unimi.dsi.webgraph.ImmutableGraph)}
	and {@link it.unimi.dsi.big.webgraph.ImmutableGraph#wrap(ImmutableGraph)}) that
	turn a standard {@link it.unimi.dsi.webgraph.ImmutableGraph} into a big {@link it.unimi.dsi.big.webgraph.ImmutableGraph}
	and viceversa. Thus, for instance, there is no big version of 
	{@link it.unimi.dsi.webgraph.ArrayListMutableGraph}: it is expected that instances will be just
	wrapped should you need to use them in the big framework.

	<h1>Compatibility</h1>
	
	<p>The serialisation format of the standard and big versions of {@link it.unimi.dsi.webgraph.BVGraph} are compatible (but
	you cannot load a graph with more than 2<sup>31</sup> elements using the standard version). The <em>same</em>
	graph loaded with instances of the two classes, however, will not by {@linkplain java.lang.Object#equals(Object) equal}.
	You must wrap one or the other (see above) to check for equality.
	
	 <p>Note also that usually satellite data generated by various utilities (e.g., {@link it.unimi.dsi.big.webgraph.algo.StronglyConnectedComponents})
	 are written using formats that are <strong>not</strong> compatible.
	
  </body>
</html>
